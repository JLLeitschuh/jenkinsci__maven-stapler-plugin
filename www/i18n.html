<html>
<head>
	<title>i18n support</title>
	<link rel="stylesheet" type="text/css" href="stapler.css" />
</head>
<body>
<h1>i18n support</h1>
<p>
    Stapler depends on <a href="https://localizer.dev.java.net/">localizer</a> for the i18n support.

<h2>i18n from Jelly view scripts</h2>
<p>
    For Jelly view scripts, the convention is to place localized message resource files by using
    the same base name. For example, if you are writing <tt>foo.jelly</tt>, its property files will
    be placed in files like <tt>foo.properties</tt> and <tt>foo_ja.properties</tt>.
<p>
    In this set up, Jelly view scripts can refer to message resources by using a special expression of the form
    <tt>${%KEY(arg1,arg2,...)}</tt>. The messages are formatted by using <tt>MessageFormat</tt>, and
    arguments are individually parsed as JEXL scripts. If there's no arguments, parenthesis can be
    omitted and thus it can be simply written as <tt>${%KEY}</tt>.

<p>
    If you need to refer to message resources from within a JEXL expression, you can use a string literal
    notation <tt>"%KEY(arg1,arg2,...)"</tt> or its argument-less short form <tt>"%KEY"</tt>. For example,
    <tt>${obj.methodCall(1,true,"%Message")}</tt>
    
<p>
    If the specified KEY is not available in the property files,
    the key itself will be used as a formatting string. The key can contain any character except '(' and
    '}'. This convenient defaulting allows you to
    skip writing <tt>foo.properties</tt> most of the time (that is, you'd only need property files for translations.)
</body>
</html>

